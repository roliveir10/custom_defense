using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using UnityEngine.EventSystems;

public class Game_manager : MonoBehaviour
{
	public static Game_manager instance = null;
	
	public GameObject manager;
	public Image background;
	public Button play_button;

	private map_gen map;

	void Awake()
    {
        if (instance == null)
			instance = this;
        else if (instance != this)
			Destroy(gameObject);
		DontDestroyOnLoad(gameObject);
		map = GetComponent<map_gen>();
		init_game();
	}

	void init_game()
	{
		map.clear_map(true);
		map.gen_map();
		background.gameObject.SetActive(false);
		play_button.gameObject.SetActive(false);
		Camera.main.transform.position = new Vector3(0, 0, -10);
	}

	void Update()
	{
		if (Input.touchCount == 1 || Input.GetMouseButtonDown(0))
			Debug.Log(Camera.main.ScreenToWorldPoint(Input.mousePosition));
		//Debug.Log(Input.GetTouch(0));
	}
}
